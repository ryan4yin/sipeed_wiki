<!DOCTYPE html>

<html lang="en"  class="">


<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="keywords" content="Linux,  Lichee,  TH1520,  SBC,  RISCV,  Peripheral">
    
    
    <meta name="description" content="">
    
    <meta name="generator" content="teedoc">
    <meta name="theme" content="teedoc-plugin-theme-default">
    
        
        <meta name="markdown-generator" content="teedoc-plugin-markdown-parser">
        
        <script>
MathJax = {"loader": {"load": ["output/svg"]}, "tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]]}, "svg": {"fontCache": "global"}};
</script>
        
        <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        
        <meta name="html-generator" content="teedoc-plugin-jupyter-notebook-parser">
        
        <meta name="blog-generator" content="teedoc-plugin-blog">
        
        <script src="/static/js/theme_default/pre_main.js"></script>
        
        <link rel="stylesheet" href="/static/css/theme_default/viewer.min.css" type="text/css"/>
        
        <link rel="stylesheet" href="/static/css/prism.css" type="text/css"/>
        
        <link rel="stylesheet" href="/static/css/theme_default/dark.css" type="text/css"/>
        
        <link rel="stylesheet" href="/static/css/theme_default/light.css" type="text/css"/>
        
        <script src="/static/js/theme_default/jquery.min.js"></script>
        
        <script src="/static/js/theme_default/split.js"></script>
        
        <link rel="stylesheet" href="/static/css/search/style.css" type="text/css"/>
        
        <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?9cb07365544a53067c56c346c838181a";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
        
            <script async src="https://www.googletagmanager.com/gtag/js?id=UA-119047820-5"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
  
      gtag('config', 'UA-119047820-5');
    </script>
        
        <link rel="stylesheet" href="/static/css/gitalk/gitalk.css" type="text/css"/>
        
        <link rel="stylesheet" href="/static/css/gitalk/custom_gitalk.css" type="text/css"/>
        
        <link rel="stylesheet" href="/static/css/custom.css" type="text/css"/>
        
        <link rel="stylesheet" href="/static/js/thumbs_up/style.css" type="text/css"/>
        
    
    
    <title>Peripheral Use - Sipeed Wiki</title>
    
    <script type="text/javascript">js_vars = {"teedoc-plugin-ad-hint": {"bg_color": "#ffcf89", "bg_color_hover": "#f57c00", "close_color": "#eab971", "color": "#a0421d", "color_hover": "white", "content": "New MaixHub online, online annotation, one-key to deploy, better experience, support Maix-I, Maix-II, mobile phone, web, \u003ca href=\u0027https://maixhub.com\u0027\u003eGo!\u003c/a\u003e\u003c/br\u003eLatest open source project \u003ca href=\u0027https://github.com/sipeed/TinyMaix\u0027\u003eTinyMaix\u003c/a\u003e, model infer runtime runs on any MCU, even runs on 2KiB RAM chip", "date": "2022-06-01 14:00", "label": "\u2606", "link_bg_color": "#e6ae5c", "link_color": "#e53935", "show_after_s": 432000, "show_times": 2, "type": "hint"}, "teedoc-plugin-thumbs-up": {"icon": "/static/images/thumbs_up/up.svg", "icon_clicked": "/static/images/thumbs_up/upped.svg", "label_down": "Not Helpful", "label_up": "Helpful", "msg_already_voted": "You have already voted", "msg_down_prompt": "Thanks to tell us where we can improve?(At least 10 characters)", "msg_down_prompt_error": "Message should be at least 10 characters and less than 256 characters", "msg_error": "Request server failed!", "msg_thanks": "Thanks for your vote", "show_down_count": false, "show_up_count": true, "url": "https://thumbs-up.sipeed.com"}}</script>
</head>


<body class="type_doc">
    
    <div id="navbar">
        <div id="navbar_menu">
            <a class="site_title" href="/en/">
                
                    <img class="site_logo" src="/static/image/logo.svg" alt="sipeed wiki logo">
                
                
                    <h2>wiki</h2>
                
        </a>
            <a id="navbar_menu_btn"></a>
        </div>
        <div id="navbar_items">
            <div>
                <ul id="nav_left">
<li class="sub_items active_parent"><a href="/hardware/en/index.html">Products</a><ul><li class=""><a  href="/hardware/en/maix/index.html">Maix-I</a></li>
<li class=""><a  href="/hardware/en/maixII/index.html">Maix-II</a></li>
<li class="active"><a  href="/hardware/en/lichee/index.html">LicheePi</a></li>
<li class=""><a  href="/hardware/en/tang/index.html">Tang</a></li>
<li class=""><a  href="/hardware/en/longan/Nano/Longan_nano.html">Longan</a></li>
<li class=""><a  href="/hardware/en/maixsense/index.html">MaixSense</a></li>
<li class=""><a  href="/hardware/en/modules_spmod/spmod_extender.html">SP-Mod</a></li>
</ul>
</li>
<li class="sub_items "><a >Software Docs</a><ul><li class=""><a  href="/soft/maixpy/en/index.html">MaixPy</a></li>
<li class=""><a  href="/soft/maixpy3/zh/index.html">MaixPy3</a></li>
<li class=""><a  href="/soft/Lichee/zh/index.html">Lichee</a></li>
<li class=""><a  href="/ai/en/index.html">AI Guide</a></li>
</ul>
</li>
<li class="sub_items "><a >Platforms</a><ul><li class=""><a target="_blank" href="https://maixhub.com">MaixHub: AI platform and sharing community</a></li>
<li class=""><a target="_blank" href="https://dl.sipeed.com/">Download center</a></li>
<li class=""><a  href="/en/community.html">community</a></li>
</ul>
</li>
<li class=""><a  href="/news/">News</a></li>
<li class=""><a  href="/en/store.html">Online Store</a></li>
<li class=""><a  href="/en/faq.html">FAQ</a></li>
</ul>

            </div>
            <div>
                <ul id="nav_right">
<li class=""><a  href="/share_docs/en/">Contribute docs</a></li>
<li class=""><a target="_blank" href="https://github.com/sipeed">Github </a></li>
<li class="sub_items "><a  href="">Language: English</a><ul><li class="active"><a  href="/hardware/en/lichee/th1520/lpi4a/6_peripheral.html">English</a></li>
<li class=""><a  href="/hardware/zh/lichee/th1520/lpi4a/6_peripheral.html">中文 简体</a></li>
</ul></li>
</ul>

                <ul class="nav_plugins"><li><a id="google_translate_element"><img class="icon" src="/static/image/google_translate/translate.svg"/>Translate</a></li></ul><ul class="nav_plugins"><li><a id="themes" class="light"></a></li></ul><ul class="nav_plugins"><li><a id="search"><span class="icon"></span><span class="placeholder">Search</span>
                            <div id="search_hints">
                                <span id="search_input_hint">Input keyword. Using Space to separate multiple keywords</span>
                                <span id="search_loading_hint">Loading, please wait</span>
                                <span id="search_download_err_hint">Fail download, Please retry or check network</span>
                                <span id="search_other_docs_result_hint">Results form other doc</span>
                                <span id="search_curr_doc_result_hint">Result form current doc</span>
                            </div></a></li></ul>
            </div>
        </div>
    </div>
    
    <div id="wrapper">
        <div id="sidebar_wrapper">
            <div id="sidebar">
                <div id="sidebar_title">
                    
                </div>
                <ul class="show">
<li class="not_active with_link"><a href="/hardware/en/index.html"><span class="label">SUMMARY</span><span class=""></span></a></li>
<li class="not_active no_link"><a><span class="label">Maix Zero</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active no_link"><a><span class="label">Maix M0</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/en/./maixzero/sense/maix_zero_sense.html"><span class="label">M0sense Board</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/./maixzero/sense/start.html"><span class="label">M0sense Guide</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">Maix M0P</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active no_link"><a><span class="label">M0P</span><span class=""></span></a></li>
<li class="not_active no_link"><a><span class="label">M0P Dock</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active with_link"><a href="/hardware/en/./maixzero/m0s/m0s.html"><span class="label">Maix M0s</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">Maix-I & Zero</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active no_link"><a><span class="label">Maix M1</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active no_link"><a><span class="label">M1 Module</span><span class="sub_indicator"></span></a><ul class="show">
<li class="not_active with_link"><a href="/hardware/en/maix/core_module.html"><span class="label">M1/M1w</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/maix/M1n.html"><span class="label">M1n</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">M1 Board</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/en/maix/maixpy_develop_kit_board/Maix_dock.html"><span class="label">Maix Dock(M1/M1W)</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/maix/maixpy_develop_kit_board/maix_bit.html"><span class="label">Maix Bit</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/maix/maixpy_develop_kit_board/maix_duino.html"><span class="label">Maix Duino</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/maix/maixpy_develop_kit_board/maix_nano.html"><span class="label">Maix Nano</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/maix/maixpy_develop_kit_board/maix_cube.html"><span class="label">Maix Cube</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/maix/maixpy_develop_kit_board/maix_Amigo.html"><span class="label">Maix Amigo</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/no_translate.html?ref=/hardware/zh/maix/maixpy_develop_kit_board/maix_hat.html&from=/hardware/en/maix/maixpy_develop_kit_board/maix_hat.html"><span class="label">Maix HAT</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/maix/maixpy_develop_kit_board/maix_go.html"><span class="label">Maix Go (Sold out)</span><span class=""></span></a></li>
</ul>
</li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">Maix M1s</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/en/maix/m1s/m1s_module.html"><span class="label">M1s Module</span><span class=""></span></a></li>
<li class="not_active no_link"><a><span class="label">M1s Dock</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/en/maix/m1s/m1s_dock.html"><span class="label">Introduction</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/maix/m1s/other/start.html"><span class="label">Basic Usage</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/maix/m1s/other/others.html"><span class="label">Others (Camera and Shell)</span><span class=""></span></a></li>
</ul>
</li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">Maix M1a</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
</ul>
</li>
</ul>
</li>
<li class="not_active with_link"><a href="/hardware/en/maixII/index.html"><span class="label">Maix-II</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/en/maixII/M2/resources.html"><span class="label">MaixII-Dock</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/en/maixII/M2/flash.html"><span class="label">Burn image</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/maixII/M2/usage.html"><span class="label">Basic usage</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/maixII/M2/other.html"><span class="label">Other notice</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/../../soft/maixpy3/zh/tools/0.MaixII-Dock.html"><span class="label">Using MaixPy3</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/maixII/M2/faq.html"><span class="label">FAQ</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active with_link"><a href="/hardware/en/maixII/M2S/V833.html"><span class="label">M2S</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/en/maixII/M2S/reources.html"><span class="label">Board introduction</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active with_link"><a href="/hardware/en/maixII/M2A/maixsense.html"><span class="label">MaixSense</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/en/maixII/M2A/flash_system.html"><span class="label">Burn image</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/maixII/M2A/config_system.html"><span class="label">Config system</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/no_translate.html?ref=/hardware/zh/maixII/M2A/first.html&from=/hardware/en/maixII/M2A/first.html"><span class="label">Test board</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/no_translate.html?ref=/hardware/zh/maixII/M2A/user.html&from=/hardware/en/maixII/M2A/user.html"><span class="label">Start to use</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/../../soft/maixpy3/zh/tools/maixsense.html"><span class="label">Using MaixPy3</span><span class=""></span></a></li>
</ul>
</li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">Maix-III</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/en/maixIII/ax-pi/axpi.html"><span class="label">Maix-III AXera-Pi</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/en/maixIII/ax-pi/flash_system.html"><span class="label">AXera-Pi manual</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/maixIII/ax-pi/python_api.html"><span class="label">Python programming</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/maixIII/ax-pi/dev_prepare.html"><span class="label">C/C++ programming</span><span class=""></span></a></li>
<li class="not_active  with_link"><a href="/ai/en/deploy/ax-pi.html" ><span class="label">AI development guide</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/maixIII/ax-pi/faq_axpi.html"><span class="label">Questions (FAQ)</span><span class=""></span></a></li>
</ul>
</li>
</ul>
</li>
<li class="active_parent no_link"><a><span class="label">LicheePI</span><span class="sub_indicator"></span></a><ul class="show">
<li class="active_parent no_link"><a><span class="label">LicheePI 4A</span><span class="sub_indicator"></span></a><ul class="show">
<li class="not_active with_link"><a href="/hardware/en/lichee/th1520/lm4a.html"><span class="label">Lichee Module 4A</span><span class=""></span></a></li>
<li class="active_parent no_link"><a><span class="label">Lichee PI 4A</span><span class="sub_indicator"></span></a><ul class="show">
<li class="not_active with_link"><a href="/hardware/en/lichee/th1520/lpi4a/1_intro.html"><span class="label">Introduction(Work in Progress)</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/lichee/th1520/lpi4a/2_unbox.html"><span class="label">Unbox guide(Work in Progress)</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/lichee/th1520/lpi4a/3_images.html"><span class="label">Image summary(Work in Progress)</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/lichee/th1520/lpi4a/4_burn_image.html"><span class="label">Burn image(Work in Progress)</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/lichee/th1520/lpi4a/5_desktop.html"><span class="label">Desktop usage(Work in Progress)</span><span class=""></span></a></li>
<li class="active with_link"><a href="/hardware/en/lichee/th1520/lpi4a/6_peripheral.html"><span class="label">Peripheral(Work in Progress)</span><span class=""></span></a></li>
<li class="not_active no_link"><a><span class="label">System building</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/en/lichee/th1520/lpi4a/7_develop_revyos.html"><span class="label">revyos</span><span class=""></span></a></li>
<li class="not_active no_link"><a><span class="label">Linux Mainline (Work in Progress)</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/lichee/th1520/lpi4a/7_develop_android.html"><span class="label">Android</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/lichee/th1520/lpi4a/7_develop_thead.html"><span class="label">THead Yocto</span><span class=""></span></a></li>
<li class="not_active no_link"><a><span class="label">OpenHarmony (Work in Progress)</span><span class=""></span></a></li>
<li class="not_active no_link"><a><span class="label">OpenWRT (Work in Progress)</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active with_link"><a href="/hardware/en/lichee/th1520/lpi4a/8_application.html"><span class="label">Application(Building)</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/lichee/th1520/lpi4a/9_benchmark.html"><span class="label">Benchmark(Building)</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/lichee/th1520/lpi4a/10_test_report.html"><span class="label">Hardware report(Building)</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/lichee/th1520/lpi4a/11_credits.html"><span class="label">Credits(Building)</span><span class=""></span></a></li>
</ul>
</li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">Lichee RV</span><span class="sub_indicator"></span></a><ul class="show">
<li class="not_active no_link"><a><span class="label">Board Introduction</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/en/lichee/RV/RV.html"><span class="label">Lichee RV</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/lichee/RV/86_panel.html"><span class="label">Lichee RV 86 Panel</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/lichee/RV/Dock.html"><span class="label">Lichee RV Dock</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active with_link"><a href="/hardware/en/lichee/RV/flash.html"><span class="label">Burn System</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/lichee/RV/user.html"><span class="label">Basic usage</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/lichee/RV/problems.html"><span class="label">Questions&Answers</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/lichee/RV/ubuntu.html"><span class="label">Ubuntu Image</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active with_link"><a href="/hardware/en/lichee/Zero/Zero.html"><span class="label">Lichee Zero</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/lichee/Nano/Nano.html"><span class="label">Lichee Nano</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/lichee/ZeroPlus/ZeroPlus.html"><span class="label">Lichee ZeroPlus</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">Tang FPGA</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active no_link"><a><span class="label">Tang Nano</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/en/tang/Tang-Nano/Nano.html"><span class="label">Tang Nano</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/tang/Tang-Nano-1K/Nano-1k.html"><span class="label">Tang Nano 1K</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/tang/Tang-Nano-4K/Nano-4K.html"><span class="label">Tang Nano 4k</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/tang/Tang-Nano-9K/Nano-9K.html"><span class="label">Tang Nano 9K</span><span class=""></span></a></li>
<li class="not_active no_link"><a><span class="label">Tang Nano 20K</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/en/tang/tang-nano-20k/nano-20k.html"><span class="label">Introduction</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/tang/tang-nano-20k/example/unbox.html"><span class="label">Unbox</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active with_link"><a href="/hardware/en/tang/Tang-Nano-Doc/install-the-ide.html"><span class="label">Install IDE</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/tang/Tang-Nano-Doc/examples.html"><span class="label">Tang Nano examples</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/tang/Tang-Nano-Doc/questions.html"><span class="label">Questions&Answers</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">Tang Primer</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active no_link"><a><span class="label">Tang Primer 20K</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/en/tang/tang-primer-20k/primer-20k.html"><span class="label">Introduction</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/tang/tang-primer-20k/start.html"><span class="label">Notice</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/tang/Tang-Nano-Doc/install-the-ide.html"><span class="label">Install IDE</span><span class=""></span></a></li>
<li class="not_active  with_link"><a href="https://github.com/sipeed/TangPrimer-20K-example" ><span class="label">Examples(Github)</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/tang/Tang-Nano-Doc/questions.html"><span class="label">Questions&Answers</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">Tang Primer 25K</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/tang/Tang-primer/Tang-primer.html"><span class="label">Tang Primer (Sold out)</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active no_link"><a><span class="label">Install TD</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/en/tang/Tang-primer/get_started/install_TD_win.html"><span class="label">In Windows</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/tang/Tang-primer/get_started/install_linux.html"><span class="label">In Linux</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active with_link"><a href="/hardware/en/tang/Tang-primer/fpga/led.html"><span class="label">Blink by FPGA</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/tang/Tang-primer/get_started/E203.html"><span class="label"> Prepare E203 enviroument</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/tang/Tang-primer/get_started/fpga_download.html"><span class="label">Burn FPGA</span><span class=""></span></a></li>
</ul>
</li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">Tang Mega</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active with_link"><a href="/hardware/en/maixsense/index.html"><span class="label">MaixSense</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/en/maixsense/maixsense-a010/maixsense-a010.html"><span class="label">MaixSense-a010</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/maixsense/maixsense-a075v/maixsense-a075v.html"><span class="label">MaixSense-a075v</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">SLogic</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active no_link"><a><span class="label">SLogic Combo8</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/en/logic_analyzer/combo8/index.html"><span class="label">Introduction</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/logic_analyzer/combo8/basic_operation.html"><span class="label">Basic Operation</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/logic_analyzer/combo8/use_logic_function.html"><span class="label">Using as Logic Analyzer</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/logic_analyzer/combo8/use_cklink_function.html"><span class="label">Using as CKLink</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/logic_analyzer/combo8/use_daplink_function.html"><span class="label">Using as DAPLink</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/logic_analyzer/combo8/use_fouruart_function.html"><span class="label">Using as Serial Module</span><span class=""></span></a></li>
</ul>
</li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">Longon</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/en/longan/Nano/Longan_nano.html"><span class="label">Longon Nano</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/en/longan/Nano/pio.html"><span class="label">Setup enviroument</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/longan/Nano/blink.html"><span class="label">Blink test</span><span class=""></span></a></li>
</ul>
</li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">MaixFace</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/en/maixface/mf_ml_module/mf0_ml_module.html"><span class="label">MF0&&MF0 Dock</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/maixface/mf_ml_module/mf1_ml_module.html"><span class="label">MF1 && MF2</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/maixface/mf_ml_module/mf5_product.html"><span class="label">MF4 && MF5</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/maixface/mf_ml_module/mf_precautions.html"><span class="label">Maixface PCB Design</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/maixface/mf_ml_module/mf_update_firmwave.html"><span class="label">Maixface Update firmware</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">Peripheral modules</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active no_link"><a><span class="label">SP-MOD Peripheral modules</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active no_link"><a><span class="label">Adapter borad</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/en/modules_spmod/spmod_extender.html"><span class="label">SP-Extender</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/modules_spmod/spmod_grove.html"><span class="label">SP-Grove</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/modules_spmod/spmod_fpc.html"><span class="label">SP-FPC</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/modules_spmod/spmod_micarray.html"><span class="label">SP-MicArray</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/modules_spmod/spmod_joystick.html"><span class="label">SP-JotStick</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/modules_spmod/spmod_servo.html"><span class="label">SP-Servo</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/.html"><span class="label">SP-TypeC</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">Sensor</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/en/modules_spmod/spmod_weather.html"><span class="label">SP-Weather</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/modules_spmod/spmod_tof.html"><span class="label">SP-TOF-1P</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">Communication</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/en/modules_spmod/spmod_bt.html"><span class="label">SP-BT</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/modules_spmod/spmod_lora.html"><span class="label">SP-LoRa</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/modules_spmod/spmod_psram.html"><span class="label">SP-PSRAM</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/modules_spmod/spmod_rfid.html"><span class="label">SP-RFID</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/modules_spmod/spmod_ethernet.html"><span class="label">SP-Ethernet</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">Display</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/en/modules_spmod/spmod_lcd1.14.html"><span class="label">SP-LCD 1.14</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/en/modules_spmod/spmod_eink.html"><span class="label">SP-Eink</span><span class=""></span></a></li>
</ul>
</li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">Module && Debugger</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active no_link"><a><span class="label">Debugger</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active no_link"><a><span class="label">Sipeed RV Debugger</span><span class=""></span></a></li>
<li class="not_active no_link"><a><span class="label">Dual uart USB module</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">module</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active no_link"><a><span class="label">camera</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active no_link"><a><span class="label">GC0328</span><span class=""></span></a></li>
<li class="not_active no_link"><a><span class="label">Dual cam module(GC0328)</span><span class=""></span></a></li>
<li class="not_active no_link"><a><span class="label">OV7740</span><span class=""></span></a></li>
<li class="not_active no_link"><a><span class="label">OV2640</span><span class=""></span></a></li>
<li class="not_active no_link"><a><span class="label">OV2640-M12</span><span class=""></span></a></li>
<li class="not_active no_link"><a><span class="label">Dual cam module(OV2640)</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">Mic module</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/en/modules/micarray.html"><span class="label">Mic array</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active with_link"><a href="/hardware/en/modules/Gamepad.html"><span class="label">Sipeed Gamepad</span><span class=""></span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            </div>
        </div>
        <div id="article">
            <div id="menu_wrapper">
                <div id="menu">
                </div>
            </div>
            <div id="content_wrapper">
                <div id="content_body">
                    <div id="article_head">
                        <div id="article_title">
                            
                            <h1>Peripheral Use</h1>
                            
                        </div>
                        <div id="article_tags">
                            <ul>
                            
                            </ul>
                        </div>
                        <div id="article_info">
                        <div id="article_info_left">
                            <span class="article_author">
                                
                            </span>
                            
                                <span class="article_date" title="Last modify date: 2023-07-21">
                                    2023-07-21
                                </span>
                            
                        </div>
                        <div id="article_info_right">
                            
                            <div id="source_link">
                                <a href="https://github.com/sipeed/sipeed_wiki/blob/main/docs/hardware/en/lichee/th1520/lpi4a/6_peripheral.md" target="_blank">
                                    Edit this page
                                </a>
                            </div>
                            
                        </div>
                        </div>
                    </div>
                    <div id="article_tools">
                        <span></span>
                        <span id="toc_btn"></span>
                    </div>
                    <div id="update_history">
                        
                        
                        <details open>
                        
                            <summary>Update history</summary>
                            <div>
                                <table>
                                        <thead>
                                            <tr>
                                                <th>Date</th>
                                                <th>Version</th>
                                                <th>Author</th>
                                                <th>Update content</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            
                                                <tr>
                                                    <td>2023-07-21</td>
                                                    <td>v1.1</td>
                                                    <td>ztd</td>
                                                    <td>
                                                    
                                                        <ul>
                                                        
                                                            <li>Update English docs</li>
                                                        
                                                        </ul>
                                                    
                                                    </td>
                                                </tr>
                                            
                                                <tr>
                                                    <td>2023-05-08</td>
                                                    <td>v1.0</td>
                                                    <td>wonder</td>
                                                    <td>
                                                    
                                                        <ul>
                                                        
                                                            <li>Release docs</li>
                                                        
                                                        </ul>
                                                    
                                                    </td>
                                                </tr>
                                            
                                        </tbody>
                                </table>
                            </div>
                        </details>
                        
                    </div>
                    <div id="article_content">
                        
                            <h2 id="SoC-related">SoC-related</h2>
<h3 id="CPU-frequency">CPU frequency</h3>
<p><code>sudo cat /sys/devices/system/cpu/cpu*/cpufreq/cpuinfo_cur_freq</code><br />
The unit is KHz.<br />
Note that the system comes with a temperature control policy that will downclock the system when it is too idle or too hot. Please maintain good heat dissipation to keep the CPU below 60 degrees for optimal performance.</p>
<h3 id="Chip-temperature">Chip temperature</h3>
<p><code>cat /sys/class/thermal/thermal_zone0/temp</code></p>
<p>Unit is 0.001 degrees Celsius.</p>
<h3 id="CPU-overclocking">CPU overclocking</h3>
<p>The TH1520 runs at 1.85GHz by default, but preliminary tests show that about 80% of the chips can run at 2GHz, and about 50% of the chips can pass the stress test at 2GHz.<br />
Here is a simple overclocking procedure for reference only, no guarantee for stability and safety.</p>
<p>Check the files under <code>/boot</code>:</p>

<pre class="language-bash"><code class="language-bash">fw_dynamic.bin #opensbi
Image #kernel image
kernel-release #commit id of kernel
light_aon_fpga.bin #fw for E902 aon
light_c906_audio.bin #fw for C906 audio
light-lpi4a.dtb #1.85GHz dtb
light-lpi4a_2Ghz.dtb #2GHz overclock dtb
light-lpi4a-ddr2G.dtb #history dtb
</code></pre>
<p>Copy <code>light-lpi4a_2Ghz.dtb</code> and overwrite it with <code>light-lpi4a.dtb</code>, reboot, and then you can change the maximum frequency after booting.<br />
Note that there is a chance that it will not boot after this modification, and then you need to re-burn the firmware to recover.</p>
<p>If it boots successfully, then you can check the following values to confirm that it has been successfully overclocked:<br />
<code>sudo cat /sys/devices/system/cpu/cpu0/cpufreq/cpuinfo_max_freq</code></p>
<h2 id="PWM">PWM</h2>
<p>Take PWM1 which is connected to the cooling fan as an example, you can enable the fan with the following code:</p>
<p>``bash<br />
echo 1 &gt; /sys/class/pwm/pwmchip0/export<br />
echo 1000000 &gt; /sys/class/pwm/pwmchip0/pwm1/period<br />
echo 1000000 &gt; /sys/class/pwm/pwmchip0/pwm1/duty_cycle<br />
echo 1 &gt; /sys/class/pwm/pwmchip0/pwm1/enable</p>

<pre class="language-none"><code class="language-none">
## GPIOs

The LicheePi 4A has 2x10pin pins on board with 16 native IOs, including 6 normal IOs, 3 pairs of serial ports, and one SPI.
&gt; Note: All native IOs of the SOC are at 1.8V level, please pay attention to the level shift. 
&gt; The serial input side on the pins has been processed with 1/2 voltage divider and can be connected to a 3.3V serial port. 

The TH1520 SOC has 4 GPIO banks, each with a maximum of 32 IOs:

|Bank      |Address      | kernel io num|
|---       |---          |---           |
|GPIO0     |0xffec005000 | 456-487 |
|GPIO1     |0xffec006000 | 424-455 |
|GPIO2     |0xffe7f34000 | 392-423 |
|GPIO3     |0xffe7f38000 | 360-391 |
|AO_GPIO   |0xfffff41000 | 328-359 |
|AO_GPIO4  |0xfffff52000 | 296-327 |
|AUDIO_GPIO|0xffcb013000 | - |

Where the 4Byte (32bit) at offset 0x0 is the GPIO data register and the 4Byte (32bit) at offset 0x4 is the GPIO direction register.

The corresponding table of GPIO on SOM is:

|NAME |GPIO|
|--- |---|
|01  |GPIO0_27|
|02  |GPIO0_28|
|03  |GPIO2_0 |
|04  |AOGPIO4 |
|05  |GPIO2_1 |
|06  |GPIO1_22|
|07  |GPIO0_24|
|08  |GPIO0_25|
|09  |GPIO3_2 |
|10  |GPIO3_3 |
|11  |GPIO1_3 |
|12  |GPIO1_4 |
|13  |GPIO1_5 |
|14  |GPIO1_6 |

The GPIO correspondences of the pins on the LicheePi 4A are: 
![io_map](./../../../../zh/lichee/th1520/lpi4a/assets/peripheral/io_map.png)  

&gt; Subject to the labeling of the document, the silkscreen labeling of the internal test version may be incorrect 

GPIO operation:  
&gt; Note that pinmux may need to be set in advance.

```bash
num=xxx
echo ${num} &gt; /sys/class/gpio/export  
echo out&gt;/sys/class/gpio/gpio${num}/direction 
echo 1 &gt; /sys/class/gpio/gpio${num}/value  
echo 0 &gt; /sys/class/gpio/gpio{num}/value
</code></pre>
<p>For example, if you want to operate the 4 GPIOs on the pin, the correspondence is as follows, change the num in the above code to the number corresponding to the GPIO pin you want to operate.</p>
<table>
<thead>
<tr>
  <th>num</th>
  <th>IO Number</th>
</tr>
</thead>
<tbody>
<tr>
  <td>427</td>
  <td>IO 1_3</td>
</tr>
<tr>
  <td>428</td>
  <td>IO 1_4</td>
</tr>
<tr>
  <td>429</td>
  <td>IO 1_5</td>
</tr>
<tr>
  <td>430</td>
  <td>IO 1_6</td>
</tr>
</tbody>
</table>
<p>It is also possible to manipulate registers directly:</p>
<blockquote>
<p>devmem can be downloaded and compiled from here: <a href="https://github.com/VCTLabs/devmem2/blob/master/devmem2.c"  target="_blank">https://github.com/VCTLabs/devmem2/blob/master/devmem2.c</a></p>
</blockquote>

<pre class="language-bash"><code class="language-bash">./devmem 0xffe7f38000 w
</code></pre>
<p>In-system GPIO information view:</p>

<pre class="language-bash"><code class="language-bash">sipeed@lpi4a:~$ sudo cat /sys/kernel/debug/gpio
</code></pre>
<p>Here are the sample results:</p>
<p><img src="./../../../../zh/lichee/th1520/lpi4a/assets/peripheral/peripheral_gpio_information.png" alt="peripheral_gpio_information" /></p>
<!--
```bash
sipeed@lpi4a:~$ sudo cat /sys/kernel/debug/gpio
gpiochip8: GPIOs 296-327, parent: platform/fffff52000.gpio, fffff52000.gpio:    AO_GPIO4

gpiochip7: GPIOs 328-359, parent: platform/fffff41000.gpio, fffff41000.gpio:    AO_GPIO
 gpio-332 (                    |hubswitch           ) out hi 

gpiochip6: GPIOs 360-391, parent: platform/ffe7f38000.gpio, ffe7f38000.gpio:    GPIO3

gpiochip5: GPIOs 392-423, parent: platform/ffe7f34000.gpio, ffe7f34000.gpio:    GPIO2
 gpio-395 (                    |cs                  ) out hi ACTIVE LOW
 gpio-406 (                    |aon:soc_vdd5v_se_en ) out lo 
 gpio-407 (                    |spi0 CS0            ) out hi ACTIVE LOW
 gpio-417 (                    |Volume Up Key       ) in  lo IRQ ACTIVE LOW
 gpio-421 (                    |aon:soc_wcn33_en    ) out lo 

gpiochip4: GPIOs 424-455, parent: platform/ffec006000.gpio, ffec006000.gpio:    GPIO1
 gpio-443 (                    |Volume Down Key     ) in  hi IRQ ACTIVE LOW
 gpio-446 (                    |aon:soc_vbus_en     ) out hi 

gpiochip3: GPIOs 456-487, parent: platform/ffec005000.gpio, ffec005000.gpio:    GPIO0
 gpio-457 (                    |spi2 CS0            ) out hi ACTIVE LOW
 gpio-486 (                    |aon:soc_vdd_3v3_en  ) out hi 

gpiochip2: GPIOs 488-495, parent: i2c/3-0018, 3-0018, can sleep:    IO expend 3
 gpio-490 (                    |regulator-hub-vdd12-) out hi 
 gpio-491 (                    |regulator-hub-vcc5v-) out hi 
 gpio-492 (                    |regulator-pwr-en    ) out hi 
 gpio-493 (                    |aon:soc_lcd0_vdd33_e) out hi 
 gpio-494 (                    |aon:soc_lcd0_vdd18_e) out hi 
 gpio-495 (                    |reset               ) out hi ACTIVE LOW

gpiochip1: GPIOs 496-503, parent: i2c/1-0018, 1-0018, can sleep:    IO expend 2
 gpio-496 (                    |aon:soc_cam2_dvdd12_) out lo 
 gpio-501 (                    |wlan_default_wlan_po) out hi 
 gpio-502 (                    |bt_default_poweron  ) out lo 

gpiochip0: GPIOs 504-511, parent: i2c/0-0018, 0-0018, can sleep:    IO expend 1
 gpio-504 (                    |aon:soc_dvdd12_rgb  ) out lo 
 gpio-505 (                    |aon:soc_avdd28_rgb  ) out lo 
 gpio-506 (                    |aon:soc_dovdd18_rgb ) out lo 
 gpio-507 (                    |aon:soc_dovdd18_ir  ) out lo 
 gpio-508 (                    |aon:soc_dvdd12_ir   ) out lo 
 gpio-509 (                    |aon:soc_avdd25_ir   ) out lo 
 gpio-510 (                    |aon:soc_cam2_dovdd18) out lo 
 gpio-511 (                    |aon:soc_cam2_avdd25_) out lo
```  -->
<h2 id="UART">UART</h2>
<h3 id="System-Serial-Port">System Serial Port</h3>
<p>The system serial port of the LicheePi 4A is UART0, which is shown on the side pins.<br />
You can use a USB to serial module to connect to this serial port, i.e. <code>U0-RX</code> and <code>U0-TX</code>, taking care of the cross-connections and the GND connection.</p>
<p><img src="./../../../../zh/lichee/th1520/lpi4a/assets/peripheral/ttl_link.png" alt="ttl_link" /></p>
<p>After the connection is completed, you can use serial tools to communicate, we recommend <code>XShell</code> and <code>mobaterm</code> for Windows and <code>minicom</code> for Linux.<br />
Set the serial port baud rate to <code>115200</code>, then you can log in the serial terminal and do the command operation:</p>
<blockquote>
<p>Note: Just after connecting, you can hit several carriage returns to see if there is any response, if there is no response, then check the wiring or serial port configuration.</p>
</blockquote>
<p><img src="./../../../../zh/lichee/th1520/lpi4a/assets/peripheral/ttl_login.png" alt="ttl_login" /></p>
<h3 id="General-serial-port">General serial port</h3>
<p>The LicheePi 4A also has UART1/2/3 on the side pins, which can also be operated.<br />
Only UART1 is enabled in the default image, other ports may need to reconfigure the device tree for operation.</p>
<blockquote>
<p>Note: The SOC serial port level is 1.8V, which is just around the high level threshold of 3.3V, some serial modules may not be able to input/output correctly, we suggest to use our matching serial modules, or fine-tune the 3.3V voltage of other serial modules to 2.8V.</p>
</blockquote>
<h4 id="View-Serial-Devices">View Serial Devices</h4>

<pre class="language-bash"><code class="language-bash">ls /dev/ttyS*
</code></pre>
<h4 id="View-serial-port-baud-rate-and-other-information">View serial port baud rate and other information</h4>

<pre class="language-bash"><code class="language-bash">stty -F /dev/ttyS1 -a 
</code></pre>
<h4 id="Set-serial-port-baud-rate%2C-data-mode">Set serial port baud rate, data mode</h4>

<pre class="language-bash"><code class="language-bash">stty -F /dev/ttyS1 ispeed 115200 ospeed 115200 cs8
</code></pre>
<h4 id="Viewing-serial-port-data">Viewing serial port data</h4>

<pre class="language-bash"><code class="language-bash">cat /dev/ttyS1
</code></pre>
<h4 id="Send-serial-port-data">Send serial port data</h4>

<pre class="language-bash"><code class="language-bash">echo &quot;12345&quot; &gt; /dev/ttyS1
</code></pre>
<h4 id="Other-methods">Other methods</h4>
<p>You can also use <code>minicom</code>, or pyserial library for serial port operation, please find the relevant information for users to use.</p>
<h2 id="I2C">I2C</h2>
<p>There are several I2C devices (I2C0/1/2/3) on the LicheePi 4A, where 0/1/3 is used to connect to the I2C IO expansion chip, and I2C2 is reserved on the external pin.</p>
<p>Here we use i2c-tools for i2c authentication, which are pre-installed in the image.</p>

<pre class="language-bash"><code class="language-bash">sipeed@lpi4a:/usr$ ls /sbin/i2c*
/sbin/i2c-stub-from-dump /sbin/i2cdetect /sbin/i2cdump /sbin/i2cget /sbin/i2cset /sbin/i2ctransfer
</code></pre>
<p>List all I2C buses:</p>

<pre class="language-bash"><code class="language-bash">sipeed@lpi4a:~$ /sbin/i2cdetect -l
i2c-0   unknown         Synopsys DesignWare I2C adapter         N/A
i2c-1   unknown         Synopsys DesignWare I2C adapter         N/A
i2c-2   unknown         Synopsys DesignWare I2C adapter         N/A
i2c-3   unknown         Synopsys DesignWare I2C adapter         N/A
i2c-4   unknown         Synopsys DesignWare I2C adapter         N/A
i2c-5   unknown         Synopsys DesignWare I2C adapter         N/A
i2c-6   unknown         Synopsys DesignWare I2C adapter         N/A
i2c-7   unknown         DesignWare HDMI                         N/A
</code></pre>
<p>Detecting the device on the I2C bus, we can see that the I2C address of PCA9557PW is 0x18, which is consistent with the schematic:</p>

<pre class="language-bash"><code class="language-bash">sipeed@lpi4a:~$ sudo /sbin/i2cdetect -r -y 0
     0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f
00:                         -- -- -- -- -- -- -- -- 
10: -- -- -- -- -- -- -- -- UU -- -- -- -- -- -- -- 
20: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
30: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
40: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
50: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
60: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
70: -- -- -- -- -- -- -- --  
</code></pre>
<p><img src="./../../../../zh/lichee/th1520/lpi4a/assets/peripheral/i2c_io.png" alt="i2c_io" /></p>
<p>It is also possible to use <code>i2cdump</code> to dump all registers at the specified i2c address, <code>i2cget</code> to read the specified register value at the specified i2c address, and <code>i2cset</code> to write the specified register value at the specified i2c address.<br />
However, since the IO extension chip is already used by the kernel, it is not possible to verify these commands directly. Users can verify it by connecting peripheral devices to I2C2 by themselves.</p>
<h2 id="SPI">SPI</h2>
<p>There are two SPIs reserved on the LicheePi4A, one on the SPI Flash pads that are blanked out on the back, and one on the pins.</p>

<pre class="language-bash"><code class="language-bash">sipeed@lpi4a:~$ ls /dev/spidev2.0 
/dev/spidev2.0
</code></pre>
<p>TODO</p>
<h2 id="USB">USB</h2>
<p>Connect the USB SSD:</p>
<p><img src="./../../../../zh/lichee/th1520/lpi4a/assets/peripheral/usb_ssd_connect.jpg" alt="usb_ssd_connect" /></p>
<p>The corresponding device can be seen in the system:</p>
<p><img src="./../../../../zh/lichee/th1520/lpi4a/assets/peripheral/usb_ssd_use.png" alt="usb_ssd_use" /></p>
<h3 id="USB-network-card">USB network card</h3>
<p>Connect the USB network card:<br />
<img src="./../../../../zh/lichee/th1520/lpi4a/assets/peripheral/usb_lan_connect.jpg" alt="usb_lan_connect" /><br />
右上角的网络图标会变为已连接有线网的状态：<br />
<img src="./../../../../zh/lichee/th1520/lpi4a/assets/peripheral/usb_lan_use.png" alt="usb_lan_use" /><br />
终端中使用<code>sudo ifconfig</code>命令，也可以看到相应设备的信息：<br />
<img src="./../../../../zh/lichee/th1520/lpi4a/assets/peripheral/check_usb_lan_ip.png" alt="check_usb_lan_ip" /></p>
<h3 id="USB-Camera">USB Camera</h3>
<p>Connect the USB camera:</p>
<p><img src="./../../../../zh/lichee/th1520/lpi4a/assets/peripheral/usb_cam_connect.jpg" alt="usb_cam_connect" /></p>
<p>After installing guvcview, use the appropriate commands to see the image stream from the USB camera:</p>

<pre class="language-shell"><code class="language-shell">sudo apt-get install guvcview
guvcview
</code></pre>
<p><img src="./../../../../zh/lichee/th1520/lpi4a/assets/peripheral/usb_cam_use.png" alt="usb_cam_use" /></p>
<p>You can end the image stream by pressing Ctrl+C or by clicking the quit button on the guvcview window.</p>
<p>You can also use fswebcam to dump the USB camera image directly from the command line.</p>

<pre class="language-shell"><code class="language-shell">sudo apt-get install fswebcam
fswebcam /dev/video0 image.jpg
</code></pre>
<p>To allow the USB camera to automatically save images, a reference script is given below. The script uses the uvccapture tool, which makes it easy to adjust capture parameters as needed.</p>
<p>Install this tool first</p>

<pre class="language-shell"><code class="language-shell">sudo apt install uvccapture
</code></pre>
<p>This tool supports various parameters, use <code>-x -y</code> to adjust the shooting resolution, <code>-B</code> to adjust the brightness, <code>-C</code> to adjust the contrast, <code>-S</code> to adjust the saturation, and <code>-o</code> to specify the shooting image storage Path, for specific use, refer to the following script code:</p>

<pre class="language-shell"><code class="language-shell">#!/bin/bash

# Check if the interval time parameter is passed in
if [ -z &quot;$1&quot; ]; then
   echo -e &quot;The interval time parameter is not specified, and the default interval is 1 second&quot;
   interval=1
else
   interval=$1
the fi

# Check if the output file path parameter is passed in
if [ -z &quot;$2&quot; ]; then
   echo -e &quot;The output file path parameter is not specified, the default output is to the current directory&quot;
   output_file=&quot;$PWD&quot;
else
   output_file=$2
the fi

# Check whether the number of shots parameter is passed in
if [ -z &quot;$3&quot; ]; then
   echo -e &quot;The number of shots is not specified, the default is 10 shots&quot;
   num_executions=10
else
   num_executions=$3
the fi

echo -e &quot;script started, press q to stop&quot;

for ((i = 1; i &lt;= num_executions; i++)); do
     echo -e &quot;capture img $i&quot;
     uvccapture -x640 -y480 -m -o$output_file/$image$i.jpg
# Take pictures at specified time intervals
sleep $interval
# Press the q key to exit
read -t 1 -n 1 key
if [[ $key = &quot;q&quot; ]]; then
break
the fi
done

echo -e &quot;Script execution ended&quot;
</code></pre>
<p>The above script can also be operated with fswebcam, just make corresponding changes.</p>
<h3 id="USB-Sound-Card">USB Sound Card</h3>
<p>TODO</p>
<h2 id="ETH">ETH</h2>
<p>The LicheePi4A has dual Gigabit Ethernet ports, of which Eth0 is also PoE capable.</p>
<p>TODO</p>
<h3 id="PoE">PoE</h3>
<p>The Ethernet 0 interface of LicheePi 4A has PoE function and can be powered by PoE.</p>
<p>The PoE power supply module needs to be purchased on its own, and can be found by searching for the keyword &quot;5V PoE pin&quot; in the 5V voltage, 35.6mm length specification.</p>
<p>When the visual direction is facing the &quot;POE POWER&quot; logo, the four pins on the left side of the pin are defined from left to right as: VA1, VA2, VB1, VB2, and on the right side as: GND, 5VIN.</p>
<h2 id="Audio">Audio</h2>
<p>There are two analog silicon mics on the LicheePi 4A, using the ES7210 CODEC, as well as having on-board speakers all the way, and stereo headphones, using the ES8156 CODEC.</p>
<blockquote>
<p>Note: The on-board speakers and stereo headphones use a mutually exclusive design; when headphones are plugged in, the audio output automatically switches to the headphones and the on-board speakers are deactivated.</p>
</blockquote>
<p>Simple recording and playback tests can be performed using aplay and arecord, note that the onboard speakers are right channel.</p>

<pre class="language-bash"><code class="language-bash">#!/bin/bash

echo &quot;Play Test Audio&quot; 
aplay /usr/share/sounds/alsa/Side_Right.wav

# Record Audio
echo &quot;Start record auido, auto replay after 3 seconds&quot;
arecord -Dhw:0,1 -d 3 -r 48000 -f S16_LE -t wav test.wav &amp; &gt; /dev/null &amp;
sleep 4

# Play Audio
aplay test.wav
echo &quot;Start Play&quot;
</code></pre>
<p>You can also use alsa-related tools, such as <code>alsamixer</code>, to do things like volume adjustments.</p>
<h2 id="HDMI">HDMI</h2>
<blockquote>
<p>Note: HDMI audio does not work for earlier mirrors, please upgrade to a newer version to enable HDMI audio function.</p>
</blockquote>
<p>Tap the speaker icon at the top right corner of the screen to enter Audio mixer, you can see the interface below:</p>
<p><img src="./../../../../zh/lichee/th1520/lpi4a/assets/peripheral/audiomixer.png" alt="audiomixer" /></p>
<p>The name of the device is Build-in Audio, i.e. HDMI audio, and you can switch between audio devices by clicking on its corresponding green checkmark icon in this interface, or you can switch between devices by clicking on the small speaker icon directly.<br />
If you confirm that the connection is correct and the HDMI monitor you are using supports HDMI audio, but you do not see the corresponding device in the device list, you can try to run the following command:</p>

<pre class="language-shell"><code class="language-shell">systemctl --user restart pulseaudio.service
</code></pre>
<h2 id="MIPI-CSI">MIPI CSI</h2>
<p>LicheePi 4A has three camera interfaces, CAM0/CAM1/CAM2, CAM0 is up to 4 lanes, CAM1/2 is 2 lanes, and the default is to use the CSI0 interface to connect to the OV5693 camera.</p>
<p>Connections are made as shown below, using the CSI0 connector with the camera's gold finger facing down:<br />
<img src="./../../../../zh/lichee/th1520/lpi4a/assets/peripheral/mipi_csi_connect.jpg" alt="mipi_csi_connect.jpg" /></p>
<p>Currently, we need to burn a dedicated mirror for testing for the time being, download /image/latest_20230714/LPI4A_YOCTO_CAM.zip from <a href="https://pan.baidu.com/e/1xH56ZlewB6UOMlke5BrKWQ"  target="_blank">Baidu.com</a> in the Documentation Mirror Collection page. image file.<br />
After burning, go to the /usr/share/csi_hal/ directory and run the following command:</p>

<pre class="language-shell"><code class="language-shell">./cam_demo_simple 2 0 1 0 640 480 1 30
</code></pre>
<p>After the completion of the run, you can see in the current directory dump down to the shooting photos, typically named demo_save_img_OV5693_ch0_0_*, resolution of 640*480 (currently only supports 640 * 480 resolution), the format is YUV420SP (NV12), the format of the UV component of the interleaving of the storage, bit depth The format is YUV420SP(NV12), under this format, the UV components are interleaved, and the bit depth is 8bit.<br />
Under Linux, you can use YUView to set the relevant parameters to view the image; in addition, you can also use python to process the relevant parameters to view the image, the reference code is as follows:</p>

<pre class="language-python"><code class="language-python">import numpy as np
import cv2

class nv12_to_jpg:
def __init__(self):
return

def to_jpg(self, yuv_path, resolution):
width, height = resolution
with open(yuv_path, 'rb') as f:
yuvdata = np.fromfile(f, dtype=np.uint8)
self.input_file=yuv_path
cv_format = cv2.COLOR_YUV2RGB_NV21
bgr_img = cv2.cvtColor(yuvdata.reshape((height*3//2, width)), cv_format)
return bgr_img

def save(self, img_data, output_path):
cv2.imwrite(output_path, img_data)

if __name__ == &quot;__main__&quot;:
# Example: Convert an image in 10bit raw format to jpg format
file_name = input(&quot;Please enter the filename of the raw image:&quot;)
input_str = input(&quot;width and hight, separated by spaces:&quot;)
width, height = map(int, input_str.split())

img = nv12_to_jpg()
jpg_data = img.to_jpg(file_name, (width, height))
img.save(jpg_data, file_name+'nv12tojpg.jpg')
</code></pre>
<h2 id="MIPI-DSI">MIPI DSI</h2>
<p>LicheePi 4A has MIPI DSI0 interface, supports 4K video output, and can be equipped with 10.1 inch 1280x800 or 1920x1200 screen.</p>
<p>Connection method is shown below, both fpc cables are downward connected (the side of the metal contact at the end of the cable is facing downward), in which the adapter plate of the touch screen needs to pay attention to the direction when connecting, make sure that the end of ToLPi4A is connected to the touch soft cable of LPi4A, and the end of ToLcdTP is connected to the screen:</p>
<p>FPC Schematic:<br />
<img src="./../../../../zh/lichee/th1520/lpi4a/assets/peripheral/fpc.jpg" alt="fpc" /></p>
<p>Note that before connecting, first dial up the black flap on the interface used to fix the wires, and then dial down after confirming the connection.<br />
Touch panel FPC connection:<br />
<img src="./../../../../zh/lichee/th1520/lpi4a/assets/peripheral/tpconnector_on_touchscreen.jpeg" alt="tpconnector_on_touchscreen" /></p>
<p><img src="./../../../../zh/lichee/th1520/lpi4a/assets/peripheral/touchconnector_on_board.jpeg" alt="touchconnector_on_board" /></p>
<p>MIPI screen FPC connection:<br />
<img src="./../../../../zh/lichee/th1520/lpi4a/assets/peripheral/mipi_dsi_connect.jpeg" alt="mipi_dsi_connect" /></p>
<p>After confirming the connection is correct, use the firmware that supports MIPI screen, and power on the device to see the MIPI screen display.</p>
<p>If you only use the MIPI screen, you can turn off the HDMI display and set the MIPI screen as the main screen in the system settings, or you can use the following command:</p>

<pre class="language-shell"><code class="language-shell">xrandr --output HDMI-1 --off
xrandr --output DSI-1 --rotate normal --primary
</code></pre>
<p>In the above command, the <code>rotate</code> parameter is the rotation direction of the screen, <code>normal</code> means no rotation, i.e. vertical display, if you want to continue to display horizontal screen, you can change it to <code>left</code> or <code>right</code>.</p>
<p>If you use both MIPI screen and HDMI screen, you can also set the relationship between the main screen and the two screens according to the above commands. For example, the following command sets the HDMI screen as the main screen, and sets the MIPI screen as the extended screen below the main screen, and displays the screen in landscape:</p>

<pre class="language-shell"><code class="language-shell">xrandr --output HDMI-1 --auto --primary
xrandr --output DSI-1 --rotate left ---below HDMI-1
</code></pre>
<p>The above screen identifiers and available resolutions can be viewed directly by entering the <code>xrandr</code> command.</p>
<p>If you find that the coordinates of the touch screen are not correct after modifying the settings, you can follow the steps below to correct them:</p>
<p>Check the corresponding ID of the touch screen device</p>

<pre class="language-shell"><code class="language-shell">xinput
</code></pre>
<p><img src="./../../../../zh/lichee/th1520/lpi4a/assets/peripheral/list_touchsreen.png" alt="list_touchsreen" /><br />
Here you can see that it is a touch screen device Goodix 7, then enter the following command to map the touch device to the correct screen:</p>

<pre class="language-shell"><code class="language-shell">xinput map-output-of 7 DSI-1
</code></pre>
<p>Similarly, depending on the ID, the following command can be used to turn off the appropriate touch device:</p>

<pre class="language-shell"><code class="language-shell">xinput disable 7
</code></pre>
<p>If you are using only the HDMI screen, first power down and unplug both the MIPI screen and the touchpad's flexible cable before powering up. Then run the following commands (you need to switch to root user to execute, direct sudo may encounter the problem of insufficient privileges):</p>

<pre class="language-shell"><code class="language-shell">echo off &gt; /sys/class/drm/card0-DSI-1/status
</code></pre>
<h2 id="GPU">GPU</h2>
<p>Use the following command to view the status of the GPU in real time:</p>

<pre class="language-shell"><code class="language-shell">sudo watch cat /sys/kernel/debug/pvr/status
</code></pre>
<p>Under the xfce desktop, the status of the GPU is as follows:</p>
<p><img src="./../../../../zh/lichee/th1520/lpi4a/assets/peripheral/gpu_status_desktop.png" alt="gpu_status_desktop" /></p>
<p>When playing video with Chromium browser, the state of GPU is as follows:</p>
<p><img src="./../../../../zh/lichee/th1520/lpi4a/assets/peripheral/gpu_status_play_video.png" alt="gpu_status_play_video" /></p>
<h2 id="NPU">NPU</h2>
<p>TODO</p>
<h2 id="Other">Other</h2>
<p>Contributions are welcome~ You can get ￥5~150 ($1~20) coupon if your contribution is accepted!</p>

                        
                    </div>
                </div>
                <div id="previous_next">
                    <div id="previous">
                        
                        <a href="/hardware/en/lichee/th1520/lpi4a/5_desktop.html">
                            <span class="icon"></span>
                            <span class="label">Desktop usage(Work in Progress)</span>
                        </a>
                        
                    </div>
                    <div id="next">
                        
                        <a href="/hardware/en/lichee/th1520/lpi4a/7_develop_revyos.html">
                            <span class="label">revyos</span>
                            <span class="icon"></span>
                        </a>
                        
                    </div>
                </div>
                <div id="comments-container"></div>
            </div>
            <div id="toc_wrapper">
                <div id="toc">
                    <div id="toc_content">
                            
                    </div>
                </div>
            </div>
        </div>
    </div>
    <a id="to_top" href="#"></a>
    <div id="doc_footer">
        <div id="footer">
            <div id="footer_top">
                <ul>
<li><a>Other links</a><ul><li><a target="_blank" href="https://www.sipeed.com">Sipeed</a></li>
<li><a target="_blank" href="https://maixhub.com/">MaixHub</a></li>
<li><a target="_blank" href="https://bbs.sipeed.com/">BBS </a></li>
<li><a target="_blank" href="https://sipeed.aliexpress.com/store/911876460">Sipeed AliExpress</a></li>
<li><a target="_blank" href="https://github.com/neutree/teedoc">Build by teedoc </a></li>
</ul>
</li>
<li><a>Source Code</a><ul><li><a target="_blank" href="https://github.com/sipeed/sipeed_wiki">Website source code</a></li>
<li><a target="_blank" href="https://github.com/sipeed">Open Souecr Code</a></li>
</ul>
</li>
<li><a>Follow us</a><ul><li><a target="_blank" href="https://github.com/sipeed">github</a></li>
<li><a target="_blank" href="https://twitter.com/SipeedIO">twitter</a></li>
<li><a target="_blank" href="https://sipeed.aliexpress.com/store/911876460">AliExpress</a></li>
<li><a  href="/community.html">more</a></li>
</ul>
</li>
<li><a>Contact us</a><ul><li><a>Tel: +86 0755-27808509</a>
</li>
<li><a>Business mail: support@sipeed.com</a>
</li>
<li><a>Adress: 深圳市宝安区新湖路4008号蘅芳科技办公大厦A座-2101C</a>
</li>
<li><a  href="/join_us.html">Join us</a></li>
</ul>
</li>
</ul>

            </div>
            <div id="footer_bottom">
                <ul>
<li><a target="_blank" href="https://www.sipeed.com">©2018-2023 深圳矽速科技有限公司</a></li>
<li><a target="_blank" href="https://beian.miit.gov.cn/#/Integrated/index">粤ICP备19015433号</a></li>
</ul>

            </div>
        </div>
    </div>
    
        <script src="/teedoc-plugin-markdown-parser/mermaid.min.js"></script>
    
        <script>mermaid.initialize({startOnLoad:true});</script>
    
        <script type="text/javascript">
                var transLoaded = false;
                var loading = false;
                var domain = "/";
                var domainDefault = domain;
                var storeDomain = localStorage.getItem("googleTransDomain");
                if(storeDomain){
                    domain = storeDomain;
                }
                function getUrl(domain){
                    if(domain == "/")
                        return "/static/js/google_translate/element.js?cb=googleTranslateElementInit";
                    else
                        return "https://" + domain + "/translate_a/element.js?cb=googleTranslateElementInit";
                }
                var url = getUrl(domain);
                function googleTranslateElementInit() {
                    new google.translate.TranslateElement({pageLanguage: "auto", layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, 'google_translate_element');
                }
                function loadJS( url, callback ){
                    var script = document.createElement('script');
                    fn = callback || function(){ };
                    script.type = 'text/javascript';
                    if(script.readyState){
                        script.onreadystatechange = function(){
                            if( script.readyState == 'loaded' || script.readyState == 'complete' ){
                                script.onreadystatechange = null;
                                fn();
                            }
                        };
                    }else{
                        script.onload = function(){
                            fn();
                        };
                    }
                    script.src = url;
                    document.getElementsByTagName('head')[0].appendChild(script);
                }
                function removeHint(){
                    var hint = document.getElementById("loadingTranslate");
                    if(hint){
                        hint.remove();
                    }
                }
                var btn = document.getElementById("google_translate_element");
                btn.onclick = function(){
                    if(transLoaded) return;
                    if(loading){
                        var flag = confirm("loading from " + domain + ", please wait, or change domain?");
                        if(flag){
                            newDomain = prompt("domain, default: " + domainDefault + ", now: " + domain);
                            if(newDomain){
                                domain = newDomain;
                                console.log(domain);
                                url = getUrl(domain);
                                loadJS(url, function(){
                                    localStorage.setItem("googleTransDomain", domain);
                                    removeHint()
                                    transLoaded = true;
                                });
                            }
                        }
                        return;
                    }
                    btn.innerHTML = '<span id="loadingTranslate"><img class="icon" src="/static/image/google_translate/translate.svg"/>Loading ...</span>';
                    loading = true;
                    loadJS(url, function(){
                        localStorage.setItem("googleTransDomain", domain);
                        removeHint()
                        transLoaded = true;
                    });
                }
                </script>
            
    
        <script src="/static/js/plugin_blog/main.js"></script>
    
        <script src="/static/js/theme_default/tocbot.min.js"></script>
    
        <script src="/static/js/theme_default/main.js"></script>
    
        <script src="/static/js/theme_default/viewer.min.js"></script>
    
        <script src="/static/js/prism.js"></script>
    
        <script src="/static/js/search/search_main.js"></script>
    
        <script src="/static/js/gitalk/gitalk.min.js"></script>
    
        <script src="/static/js/gitalk/main.js"></script>
    
        <link rel="stylesheet" href="/static/js/add_hint/style.css" type="text/css"/>
    
        <script src="/static/js/add_hint/main.js"></script>
    
        <script src="/static/js/custom.js"></script>
    
        <script src="/static/js/thumbs_up/main.js"></script>
    
</body>

</html>